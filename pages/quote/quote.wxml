<!--pages/quote/quote.wxml-->
<scroll-view style=" background: #f5f6f8; min-height: 100vh;  padding:0 10px;padding-bottom:110px; box-sizing: border-box;">
  <t-button theme="primary" style="margin:15px 0;" bind:tap="handleAddLabel" block>新增标签</t-button>
  <view wx:for="{{quoteForm.labels}}"  wx:key="id"  style="background-color: #fff;  box-sizing:border-box;border-radius: 8px;box-shadow: 0 0 8px rgba(0, 0, 0, 0.05);">
    <t-tag size="large" variant="light" theme="success">标签{{index+1}}</t-tag>
    <view style="display: flex;align-items: center;">
      <t-input label="" data-id="{{item.id}}" data-field="width" bindchange="onInputChange"  type="digit" suffix="mm"    placeholder="请输入宽度" />
      <t-icon size="48rpx" name="close" />
      <t-input label="" data-id="{{item.id}}" data-field="height" bindchange="onInputChange" type="digit" suffix="mm" placeholder="请输入高度" />
    </view>
    <view>
      <view style="margin-left:16px;font-weight: bold;">出血</view>
      <view style="display: flex;align-items: center;">
        <t-input data-id="{{item.id}}" data-field="bleedTopBotom" bindchange="onInputChange" value="{{item.bleedTopBotom}}" type="digit" label="上下" suffix="mm" />
        <t-input data-id="{{item.id}}" data-field="bleedLeftRight" bindchange="onInputChange"  value="{{item.bleedLeftRight}}"  type="digit" label="左右" suffix="mm" />
      </view>
    </view>
    <view>
      <view style="margin-left:16px;font-weight: bold;">间距</view>
      <view style="display: flex;align-items: center;">
        <t-input data-id="{{item.id}}" data-field="spaceTopBottom" bindchange="onInputChange"  value="{{item.spaceTopBottom}}"    type="digit" label="上下" suffix="mm" />
        <t-input data-id="{{item.id}}" data-field="spaceLeftRight" bindchange="onInputChange" value="{{item.spaceLeftRight}}" type="digit" label="左右" suffix="mm" />
      </view>
    </view>
    <view>
      <view style="margin-left:16px;font-weight: bold;">烫金</view>
      <view style="display: flex;align-items: center;">
        <t-input data-id="{{item.id}}" data-field="coverGoldHeight" bindchange="onInputChange" value="{{item.coverGoldHeight}}"  type="digit" label="长度" suffix="mm" />
      </view>
    </view>
    <view>
      <view style="margin-left:16px;font-weight: bold;">价格浮动</view>
      <view style="display: flex;align-items: center;">
        <t-input data-id="{{item.id}}" data-field="fluctuation" bindchange="onInputChange" value="{{item.fluctuation}}"  type="digit" label="" suffix="元" />
      </view>
    </view>
    <view>
    
      <t-cell  title="" bordered="{{false}}">
        <view  style="font-weight: bold;" slot="title">
          逆向UV/过油
        </view>
        <t-switch data-id="{{item.id}}" data-field="isUvReverse" bindchange="onInputChange"  value="{{item.isUvReverse}}" slot="note" />
      </t-cell>
  
    </view>
  </view>
  <!-- 选择材料 -->
  <t-cell class="my-16" style="margin-top:15px;" title="材料" arrow hover  note="{{quoteForm.material.materialName}}/{{quoteForm.material.price}}元" bind:click="onMaterialPicker"  />
<t-cascader
  visible="{{materialVisible}}"
  options="{{_materialsData}}"
  title="请选择材料"
  bind:change="onMaterialChange"
/>

  <t-cell class="my-16" style="margin-top:15px;" title="覆膜" arrow hover  note="{{quoteForm.coverFilm.materialName}}/{{quoteForm.coverFilm.price}}元" bind:click="onCoverfilmPicker"  />
<t-cascader
  visible="{{coverfilmVisible}}"
  options="{{_coverfilmData}}"
  title="请选择覆膜材料"
  bind:change="onCoverfilmChange"
/>



</scroll-view>
<view style="display:flex;position: fixed;bottom:0;width:100%;height:100px;flex-direction:row-reverse;align-items: center;padding:8px 16px;;box-sizing: border-box;  box-shadow: 0 -6px 12px -6px rgba(0,0,0,0.35);background-color: #fff;">
  <view style="color:#E66100;">
  <block wx:if="{{!totalPriceErrMsg}}">
  
  价格：{{totalPrice}}元/套
  </block>
  <block wx:else> 
    {{totalPriceErrMsg}}
  </block>
  </view>

</view>